<div class="details_container flex flex-col md:flex-row my-5">
    <div class="product_gallery basis-full md:basis-2/3">
        <div class="w-full">
            @if (data.images) {
            <app-gallery-swiper [images]="data.images"></app-gallery-swiper>
            }
            <!-- Modal toggle -->
            <button data-modal-target="static-modal" data-modal-toggle="static-modal"
                class="zoom-btn absolute bottom-16 left-8 py-2.5 px-5 ms-3 text-sm font-medium text-white focus:outline-none bg-black rounded-lg border border-black hover:bg-white hover:text-black focus:z-10 focus:ring-4 focus:ring-gray-100 dark:focus:ring-gray-700 dark:bg-gray-800 dark:text-gray-400 dark:border-gray-600 dark:hover:text-white dark:hover:bg-gray-700"
                type="button">
                <i class="fa-solid fa-magnifying-glass-plus"></i>
            </button>
            @if (data.images) {
                <app-zoom [images]="data.images"></app-zoom>
            }
        </div>
    </div>
    <div class="product_details basis-full md:basis-1/3 px-5 my-10">
        <h2 class="product_title my-2">{{data.name}}</h2>
        <div class="rating flex flex-row my-2">
            <span class="mx-1"><app-star-rating [rating]="data.rating || 0" [totalStars]="5"></app-star-rating></span>
            <a [routerLink]="['/reviews', data.id]">
                <span class="">{{data.reviews.length}} reviews</span>
            </a>
        </div>
        <p class="my-2">LE {{data.price}}</p>
        <p class="shipping my-3"><a [routerLink]="['/shipping-policy']"
                routerLinkActive="router-link-active">Shipping</a> calculated at checkout.</p>

        <!-- colors -->
        @if (colors){
        <label for="color">Color</label>
        <ul class="flex flex-row gap-1 my-3">
            @for (color of colors; track $index) {
            <li>
                <input type="radio" class="visually-hidden" name="color" [id]="color" [value]="color" />
                <label [for]="color" class="swatch" [title]="color" [style.background-color]="color">
                    <span class="visually-hidden">{{color}}</span>
                </label>
            </li>
            }
        </ul>
        }
        <!-- Sizes -->
        @if(sizes){
        <label for="size">Size</label>
        <ul class="flex flex-row gap-1 my-3">
            @for (size of sizes; track $index) {
            <li class="size_icon">
                <input type="radio" class="visually-hidden" name="size" [id]="size" [value]="size" />
                <label [for]="size" class="swatch" [title]="size">
                    <span class="size">{{size}}</span>
                </label>
            </li>
            }
        </ul>
        }


        <div class="quantity-container flex">
            <button type="button" class="basis-1/3 text-center">
                <span (click)="decreaseQuantity()" class="minus">-</span>
            </button>
            <span class="basis-1/3 text-center py-1">{{ quantity }}</span>
            <button type="button" class="basis-1/3 text-center">
                <span (click)="increaseQuantity()" class="plus">+</span>
            </button>
        </div>

        <button type="submit" class="btn-add my-56" (click)="onAddToCart()">Add To Cart</button>
    </div>
</div>

<div class="flex flex-col justify-center container m-auto">
    <div class="drawer-item border-b">
        <app-right-drawer [title]="'Description'" [text]="data.description"></app-right-drawer>
    </div>
</div>

<div class="w-full">
    <h2 class="title">You may also like</h2>
    <app-product-card></app-product-card>
</div>

<div class="w-full">
    <h2 class="title">Recently viewed</h2>
    <app-product-card></app-product-card>
</div>